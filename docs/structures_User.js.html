<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>structures/User.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Client.html">Client</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Client.html#login">login</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Collection.html">Collection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#array">array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#clone">clone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#concat">concat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#deleteAll">deleteAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#equals">equals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#every">every</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#exists">exists</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#filter">filter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#filterArray">filterArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#find">find</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#findAll">findAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#first">first</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#firstKey">firstKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#keyArray">keyArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#last">last</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#lastKey">lastKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#map">map</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#random">random</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#randomKey">randomKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#reduce">reduce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#some">some</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Collection.html#sort">sort</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RESTManager.html">RESTManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#authLogin">authLogin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#getCookieString">getCookieString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#getCSRFToken">getCSRFToken</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#getStations">getStations</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#playlistGetFragment">playlistGetFragment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#request">request</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="RESTManager.html#setCookies">setCookies</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Song.html">Song</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Station.html">Station</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Station.html#getSongList">getSongList</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="User.html">User</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="User.html#getStations">getStations</a></span></li><li class="nav-heading">Events</li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Client.html#event:debug">debug</a></span></li><li class="nav-heading"><span class="nav-item-type type-event">E</span><span class="nav-item-name"><a href="Client.html#event:ready">ready</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    
    <h1 class="page-title">structures/User.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Collection = require('./Collection.js');
const Station = require('./Station.js');

class User {
  /**
   * @param {Client} client The client that initiated this user.
   * @param {Object} raw The raw data from the API.
   */
  constructor(client, raw) {
    /**
     * The client that initiated this user.
     * @type {Client}
     */
    this.client = client;

    /**
     * The token used for future requests.
     * @type {string}
     */
    this.token = raw.authToken;

    /**
     * The user's ID.
     * @type {string}
     */
    this.id = raw.listenerId;

    /**
     * The email for this user.
     * @type {string}
     */
    this.email = raw.username;

    /**
     * The username for this user.
     * @type {string}
     */
    this.username = raw.webname;

    /**
     * Whether or not this user allows explicit content.
     * @type {boolean}
     */
    this.explicit = !raw.explicitContentFilterEnabled;

    /**
     * The user account's birth year.
     * @type {number}
     */
    this.birthYear = raw.birthYear;

    /**
     * The user account's zip code. (Presumably estimated.)
     * @type {string}
     */
    this.zip = raw.zipCode;

    /**
     * The user's gender.
     * @type {string}
     */
    this.gender = raw.gender;

    /**
     * Presumably whether or not the user is under 13.
     * @type {boolean}
     */
    this.minor = raw.minor;

    /**
     * Whether or not this user's profile is private.
     * @type {boolean}
     */
    this.private = raw.profilePrivate;

    /**
     * Tells if the user has opted out of Pandora's emails.
     * @type {boolean}
     */
    this.emailOptOut = raw.emailOptOut;

    /**
     * Whether or not this profile allows comments.
     * @type {boolean}
     */
    this.allowComments = raw.allowProfileComments;

    /**
     * Whether or not the user recieves notifications on new comments.
     * @type {boolean}
     */
    this.notifyOnComment = raw.notifyOnComment;

    /**
     * Whether or not the user recieves notifications on a new follower.
     * @type {boolean}
     */
    this.notifyOnFollower = raw.notifyOnFollower;

    /**
     * Whether or not the user has promo emails enabled for artists.
     * @type {boolean}
     */
    this.recieveArtistEmails = raw.artistPromoEmailsEnabled;

    /**
     * Whether or not the user will recieve audio promos for artists.
     * @type {boolean}
     */
    this.recieveAudioPromos = raw.artistAudioMessagesEnabled;

    /**
     * Whether or not this is a new account.
     * @type {boolean}
     */
    this.isNew = raw.isNew;

    /**
     * This user's custom configuration.
     * @type {Object}
     */
    this.config = {

      /**
       * What type of branding to use for Pandora.
       * @type {string}
       */
      branding: raw.config.branding,

      /**
       * How many skips the user gets per day.
       * @type {number}
       */
      dailySkipLimit: raw.config.dailySkipLimit,

      /**
       * How many skips the user gets per station.
       * @type {number}
       */
      stationSkipLimit: raw.config.stationSkipLimit,

      /**
       * How long it takes for the user to timeout when
       * no activity is detected.
       * @type {number}
       */
      inactivityTimeout: raw.config.inactivityTimeout,

      /**
       * I'm not exactly sure what this is for.
       * @type {Array&lt;number>}
       */
      experiments: raw.config.experiments,

      /**
       * Other options that may or may not be attributed
       * to if the user is a Pandora Premium or Pandora Plus
       * subscriber.
       * @type {Array&lt;String>}
       */
      flags: raw.config.flags,

      /**
       * Not exactly sure. I guess the amount of hours
       * until you can't listen anymore per month?
       * @type {number}
       */
      monthlyListeningCapHours: raw.config.monthlyListeningCapHours
    };

    /**
     * Okay, now the variable names are just
     * getting weird. I have no idea what
     * this one does or means.
     * @type {Object}
     */
    this.adkv = raw.adkv;

    /**
     * Active VX Rewards?
     * @type {Array}
     */
    this.activeVxRewards = raw.activeVxRewards;

    /**
     * The pandora listener token.
     * @type {string}
     */
    this.listenerToken = raw.listenerToken;

    /**
     * Whether or not this user uses high quality
     * audio files or not.
     * @type {boolean}
     */
    this.highQuality = raw.highQualityStreamingEnabled;

    /**
     * Assumingly, this indicates whether the user has
     * seen the intro tutorial that Pandora provides.
     * @type {boolean}
     */
    this.seenTutorial = raw.seenEducation;

    /**
     * Smart conversion ad URL.
     * @type {String}
     */
    this.smartConversionAdUrl = raw.smartConversionAdUrl;

    /**
     * I have no idea what smart conversion is, but
     * here's a timeout for it.
     * @type {number}
     */
    this.smartConversionTimeoutMillis = raw.smartConversionTimeoutMillis;

    /**
     * Whether or not smart conversion is disabled.
     * @type {boolean}
     */
    this.smartConversionDisabled = raw.smartConversionDisabled;

    /**
     * How many stations this user has.
     * @type {number}
     */
    this.stationCount = raw.stationCount;

    /**
     * What web client the user last used, I assume.
     * @type {string}
     */
    this.webClientVersion = raw.webClientVersion;

    /**
     * The placeholder image for this account, if the user does not have an avatar.
     * @type {string}
     */
    this.placeholderImageURL = raw.placeholderProfileImageUrl;

    /**
     * Whether or not autoplay is enabled for playlists.
     * @type {boolean}
     */
    this.autoplay = raw.autoplayEnabled;

    /**
     * A kruxToken. For all your kruxing needs.
     * @type {string}
     */
    this.kruxToken = raw.kruxToken;

    /**
     * A list of this user's stations.
     * @type {Map&lt;String, Station>}
     */
    this.stations = new Collection();
  }

  /**
   * Reset and get the list of stations
   * from the user.
   * @returns {Promise&lt;Map&lt;String, Station>>}
   */
  async getStations() {
    this.stations.clear();
    const list = await this.client.rest.getStations();
    for (let i = 0; i &lt; list.stations.length; i++) {
      const station = new Station(this.client, list.stations[i]);
      this.stations.set(station.id, station);
    }
    return this.stations;
  }
}

module.exports = User;</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Apr 25 2018 14:53:48 GMT-0600 (Mountain Daylight Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
